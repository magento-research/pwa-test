<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<actionGroups xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/actionGroupSchema.xsd">

    <!--Opens Category from home page-->
    <actionGroup name="OpenStorefrontCategoryByName">
        <arguments>
            <argument name="categoryName" type="string"/>
            <argument name="productName" type="string"/>
        </arguments>
        <waitForPwaElementVisible selector="{{VeniaStorefrontSection.productImage(categoryName)}}" time="30" stepKey="waitForPwaElementVisible"/>
        <click userInput="{{categoryName}}" stepKey="clickOnCategoryName1"/>
        <waitForPwaElementNotVisible selector="{{VeniaStorefrontSection.productImage(categoryName)}}"  stepKey="waitForPwaElementNotVisible01"/>
        <waitForPwaElementVisible selector="{{VeniaCategorySection.productImageAlt(productName)}}" time="30" stepKey="waitForPwaElementVisible01"/>
        <!--until MQE-1457 is fixed, we need this static wait to make sure assert happening after image load-->
        <wait time="5" stepKey="temporaryStaticWait1" />
        <see selector="{{productName}}" stepKey="assertProductIsVisible"/>
    </actionGroup>

    <!--Opens Category from left drawer menu page-->
    <actionGroup name="OpenMainMenuCategoryByName">
        <arguments>
            <argument name="categoryName" type="string"/>
            <argument name="productName" type="string"/>
        </arguments>
        <waitForPwaElementVisible selector="{{VeniaMainMenuSection.navTrigger}}" time="30" stepKey="waitforNavigationMenuToLoad"/>
        <click selector="{{VeniaMainMenuSection.navTrigger}}" stepKey="expandNav"/>
        <waitForPwaElementVisible selector="{{VeniaMainMenuSection.categoryByName(categoryName)}}" time="30" stepKey="waitForCategoriesToLoad"/>
        <wait time="5" stepKey="temporaryStaticWait" />
        <click selector="{{VeniaMainMenuSection.categoryByName(categoryName)}}" stepKey="clickOnCategoryName1"/>
        <waitForPwaElementNotVisible selector="{{VeniaStorefrontSection.productImage(categoryName)}}"  stepKey="waitForPwaElementNotVisible01"/>
        <waitForPwaElementVisible selector="{{VeniaCategorySection.productImageAlt(productName)}}" time="30"  stepKey="waitForPwaElementVisible01"/>
        <see userInput="{{productName}}" stepKey="assertProductIsVisible"/>
    </actionGroup>

</actionGroups>
